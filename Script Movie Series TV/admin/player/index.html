<!DOCTYPE html><html lang='en'><head>  <meta charset='UTF-8'>  <meta http-equiv='X-UA-Compatible' content='IE=edge'>  <meta name='viewport' content='width=device-width, initial-scale=1.0'>  <title>Generador de Video Player</title>  <style>    *, *:before, *:after {      box-sizing: border-box;    }    body {      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;      margin: 0;      padding: 20px;      min-height: 100vh;    }    .container {      max-width: 800px;      margin: 0 auto;      background: white;      border-radius: 15px;      box-shadow: 0 20px 40px rgba(0,0,0,0.1);      overflow: hidden;    }    .form {      padding: 40px;    }    .tab-group {      list-style: none;      padding: 0;      margin: 0 0 40px 0;      display: flex;      border-bottom: 2px solid #f0f0f0;    }    .tab {      flex: 1;    }    .tab a {      display: block;      text-decoration: none;      padding: 15px 20px;      background: #f8f9fa;      color: #666;      border-radius: 10px 10px 0 0;      margin-right: 5px;      transition: all 0.3s ease;      text-align: center;      font-weight: 600;    }    .tab.active a {      background: #667eea;      color: white;      transform: translateY(-2px);    }    .tab-content > div {      display: none;    }    .tab-content > div:first-child {      display: block;    }    h1 {      margin: 0 0 30px 0;      color: #333;      font-size: 28px;      text-align: center;    }    .form-row {      display: grid;      grid-template-columns: 1fr 1fr;      gap: 20px;      margin-bottom: 20px;    }    .field-wrap {      margin-bottom: 20px;    }    .field-wrap.full-width {      grid-column: 1 / -1;    }    label {      display: block;      margin-bottom: 8px;      color: #555;      font-weight: 600;      font-size: 14px;    }    .req {      color: #e74c3c;      margin-left: 3px;    }    input, select, textarea {      width: 100%;      padding: 12px 15px;      border: 2px solid #e0e0e0;      border-radius: 8px;      font-size: 14px;      transition: all 0.3s ease;      background: white;    }    input:focus, select:focus, textarea:focus {      outline: none;      border-color: #667eea;      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);    }    select:disabled {      background: #f8f9fa;      color: #999;    }    textarea {      min-height: 120px;      resize: vertical;      font-family: 'Courier New', monospace;      font-size: 12px;    }    .button {      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);      color: white;      border: none;      padding: 15px 30px;      border-radius: 8px;      font-size: 16px;      font-weight: 600;      cursor: pointer;      transition: all 0.3s ease;      width: 100%;    }    .button:hover {      transform: translateY(-2px);      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);    }    .provider-info {      background: #f8f9fa;      padding: 15px;      border-radius: 8px;      margin-top: 10px;      font-size: 13px;      color: #666;      display: none;    }    .provider-info.active {      display: block;    }    .copy-btn {      background: #28a745;      color: white;      border: none;      padding: 8px 15px;      border-radius: 5px;      cursor: pointer;      font-size: 12px;      margin-top: 10px;    }    .copy-btn:hover {      background: #218838;    }    @media (max-width: 768px) {      .form-row {        grid-template-columns: 1fr;      }            .form {        padding: 20px;      }    }  </style></head><body>  <div class="container">    <div class="form">      <ul class="tab-group">        <li class="tab active"><a href="#signup">Crear Player</a></li>        <li class="tab"><a href="#login">Codigo Generado</a></li>      </ul>            <div class="tab-content">        <div id="signup">          <h1>Generador Beta de Video Player</h1>          <form>            <div class="form-row">              <div class="field-wrap">                <label>Player<span class="req">*</span></label>                <select name='player' required='required'>                  <option value=''>Seleccionar Player</option>                  <option value='fluidplayer'>Fluid Player</option>                  <option value='jwpl'>JWPlayer</option>                  <option value='plyr'>Plyr.io</option>                  <option value='video'>HTML5 Video</option>                  <option value='videojs'>Video.js</option>                  <option value='hls'>HLS.js Player</option>                  <option value='dashjs'>Dash.js Player</option>                  <option value='shaka'>Shaka Player</option>                  <option value='clappr'>Clappr Player</option>                  <option value='flowplayer'>Flowplayer</option>                </select>              </div>                            <div class="field-wrap">                <label>Proveedor<span class="req">*</span></label>                <select name='provider' required='required'>                  <option value=''>Seleccionar Proveedor</option>                  <option value='gdrive'>Google Drive</option>                  <option value='dropbox'>Dropbox</option>                  <option value='onedrive'>OneDrive</option>                  <option value='mega'>MEGA</option>                  <option value='yt'>YouTube</option>                  <option value='vimeo'>Vimeo</option>                  <option value='dailymotion'>Dailymotion</option>                  <option value='twitch'>Twitch</option>                  <option value='facebook'>Facebook Video</option>                  <option value='direct'>Enlace Directo</option>                  <option value='m3u8'>Streaming M3U8</option>                  <option value='rtmp'>RTMP Stream</option>                </select>              </div>            </div>            <div class="field-wrap full-width">              <label>Formato de Video<span class="req">*</span></label>              <select name='format' required='required'>                <option value=''>Seleccionar Formato</option>                <option value='mp4'>MP4</option>                <option value='webm'>WebM</option>                <option value='ogg'>OGG</option>                <option value='m3u8'>HLS (M3U8)</option>                <option value='mpd'>DASH (MPD)</option>                <option value='flv'>FLV</option>                <option value='avi'>AVI</option>                <option value='mov'>MOV</option>                <option value='mkv'>MKV</option>              </select>            </div>            <div class="field-wrap full-width">              <label>Link de Video<span class="req">*</span></label>              <input name="link" type="text" placeholder='Ejemplo: https://ejemplo.com/video.mp4' required='required' autocomplete="off" />              <div class="provider-info" id="provider-info"></div>            </div>            <div class="form-row">              <div class="field-wrap">                <label>Ancho del Player</label>                <input name="width" type="text" placeholder='100% o 800px' value="100%" />              </div>                            <div class="field-wrap">                <label>Alto del Player</label>                <input name="height" type="text" placeholder='400px o 50vh' value="400px" />              </div>            </div>            <div class="field-wrap full-width">              <label>                <input type="checkbox" name="autoplay" style="width: auto; margin-right: 8px;">                Reproduccion automatica              </label>            </div>            <div class="field-wrap full-width">              <label>                <input type="checkbox" name="controls" checked style="width: auto; margin-right: 8px;">                Mostrar controles              </label>            </div>            <button type="submit" class="button">Generar Iframe</button>          </form>        </div>                <div id="login">          <h1>Tu Codigo Generado</h1>                    <div class="field-wrap">            <label>Codigo Iframe<span class="req">*</span></label>            <textarea id="ifcode" readonly></textarea>            <button class="copy-btn" onclick="copyToClipboard('ifcode')">Copiar Iframe</button>          </div>                    <div class="field-wrap">            <label>Link Directo<span class="req">*</span></label>            <textarea id="links" readonly></textarea>            <button class="copy-btn" onclick="copyToClipboard('links')">Copiar Link</button>          </div>          <div class="field-wrap">            <label>Vista Previa</label>            <div id="preview" style="border: 2px dashed #ddd; padding: 20px; text-align: center; min-height: 60px; border-radius: 8px;">              El iframe aparecer¨¢ aqu¨ª despu¨¦s de generar            </div>          </div>        </div>      </div>    </div>  </div>  <script>    document.addEventListener("DOMContentLoaded", function () {      // Informaci¨®n de proveedores      const providerInfo = {        'gdrive': 'Para Google Drive, usa el ID del archivo. Ejemplo: 1BxGT8fTv7ubnJXm9GlYwJxhqZkv',        'dropbox': 'Para Dropbox, usa el enlace compartido directo.',        'onedrive': 'Para OneDrive, usa el enlace de descarga directa.',        'mega': 'Para MEGA, usa el enlace de descarga directa.',        'yt': 'Para YouTube, usa el ID del video. Ejemplo: dQw4w9WgXcQ',        'vimeo': 'Para Vimeo, usa el ID del video. Ejemplo: 123456789',        'dailymotion': 'Para Dailymotion, usa el ID del video.',        'twitch': 'Para Twitch, usa el ID del video o clip.',        'facebook': 'Para Facebook, usa el enlace completo del video.',        'direct': 'Enlace directo al archivo de video.',        'm3u8': 'Enlace directo al archivo .m3u8 para streaming.',        'rtmp': 'URL del stream RTMP. Ejemplo: rtmp://servidor.com/live/stream'      };      // Tabs din¨¢micas      document.querySelectorAll(".tab a").forEach(tab => {        tab.addEventListener("click", function (e) {          e.preventDefault();          document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));          this.parentElement.classList.add("active");          document.querySelectorAll(".tab-content > div").forEach(div => div.style.display = "none");          const target = this.getAttribute("href").substring(1);          document.getElementById(target).style.display = "block";        });      });      // Mostrar informaci¨®n del proveedor      document.querySelector("[name='provider']").addEventListener("change", function() {        const infoDiv = document.getElementById("provider-info");        if (this.value && providerInfo[this.value]) {          infoDiv.textContent = providerInfo[this.value];          infoDiv.classList.add("active");        } else {          infoDiv.classList.remove("active");        }      });      // Funci¨®n para detectar la URL base autom¨¢ticamente      function getBaseURL() {        const protocol = window.location.protocol;        const hostname = window.location.hostname;        const port = window.location.port ? ':' + window.location.port : '';        let pathname = window.location.pathname;                // Si estamos en el root o no hay pathname espec¨ªfico        if (pathname === '/' || pathname === '') {          return `${protocol}//${hostname}${port}/`;        }                // Si el pathname termina con .html, .php, etc., remover el archivo        if (pathname.match(/\.(html|php|htm|asp|aspx|jsp)$/i)) {          pathname = pathname.substring(0, pathname.lastIndexOf('/') + 1);        } else if (!pathname.endsWith('/')) {          // Si no termina con /, agregarlo          pathname += '/';        }                return `${protocol}//${hostname}${port}${pathname}`;      }            // Funci¨®n para detectar si existe la carpeta players      async function checkPlayersFolder(baseURL) {        try {          const testUrl = `${baseURL}players/`;          const response = await fetch(testUrl, { method: 'HEAD' });          return response.ok;        } catch (error) {          return false;        }      }            // Funci¨®n para mostrar informaci¨®n del dominio detectado      function showDomainInfo() {        const baseURL = getBaseURL();        const domainInfo = document.createElement('div');        domainInfo.id = 'domain-info';        domainInfo.style.cssText = `          background: #e3f2fd;          border: 1px solid #2196f3;          border-radius: 8px;          padding: 15px;          margin: 20px 0;          font-size: 14px;          color: #1976d2;        `;        domainInfo.innerHTML = `          <strong>?? Dominio Detectado:</strong><br>          <code>${baseURL}</code><br>          <small>Los players se generar¨¢n usando esta URL base</small>        `;                const form = document.querySelector('form');        form.insertBefore(domainInfo, form.firstChild);      }      // Captura el env¨ªo del formulario      document.querySelector("form").addEventListener("submit", async function (e) {        e.preventDefault();                const player = this.querySelector("[name='player']").value;        const provider = this.querySelector("[name='provider']").value;        const link = this.querySelector("[name='link']").value;        const format = this.querySelector("[name='format']").value;        const width = this.querySelector("[name='width']").value || "100%";        const height = this.querySelector("[name='height']").value || "400px";        const autoplay = this.querySelector("[name='autoplay']").checked;        const controls = this.querySelector("[name='controls']").checked;        if (!player || !provider || !link || !format) {          alert("Por favor completa todos los campos obligatorios.");          return;        }        let src = "";        let iframeCode = "";                // Detectar autom¨¢ticamente la URL base del dominio actual        const baseURL = getBaseURL();                // Verificar si existe la carpeta players        const hasPlayersFolder = await checkPlayersFolder(baseURL);        const playersPath = hasPlayersFolder ? 'players/' : '';                // Construir par¨¢metros adicionales        const params = new URLSearchParams({          src: link,          type: format,          provider: provider,          autoplay: autoplay ? '1' : '0',          controls: controls ? '1' : '0'        });        // Generar URL seg¨²n el player        switch (player) {          case "fluidplayer":            src = `${baseURL}${playersPath}fluidplayer.php?${params}`;            break;          case "jwpl":            src = `${baseURL}${playersPath}jwplayer.php?${params}`;            break;          case "plyr":            src = `${baseURL}${playersPath}plyr.php?${params}`;            break;          case "video":            src = `${baseURL}${playersPath}video.php?${params}`;            break;          case "videojs":            src = `${baseURL}${playersPath}videojs.php?${params}`;            break;          case "hls":            src = `${baseURL}${playersPath}hls.php?${params}`;            break;          case "dashjs":            src = `${baseURL}${playersPath}dashjs.php?${params}`;            break;          case "shaka":            src = `${baseURL}${playersPath}shaka.php?${params}`;            break;          case "clappr":            src = `${baseURL}${playersPath}clappr.php?${params}`;            break;          case "flowplayer":            src = `${baseURL}${playersPath}flowplayer.php?${params}`;            break;          default:            alert("Debes seleccionar un player v¨¢lido.");            return;        }        // Generar codigo iframe        iframeCode = `<iframe src="${src}" width="${width}" height="${height}" frameborder="0" allowfullscreen allow="autoplay; encrypted-media"></iframe>`;        // Mostrar resultados        document.getElementById("ifcode").value = iframeCode;        document.getElementById("links").value = src;                // Vista previa mejorada        updatePreview(iframeCode, src, hasPlayersFolder);        // Cambiar a la pesta?a de "C¨®digo"        document.querySelector('.tab a[href="#login"]').click();      });      // Funci¨®n para actualizar la vista previa      function updatePreview(iframeCode, src, hasPlayersFolder) {        const previewDiv = document.getElementById("preview");                // Limpiar vista previa anterior        previewDiv.innerHTML = '';                // Crear contenedor para la vista previa        const previewContainer = document.createElement('div');        previewContainer.style.cssText = `          position: relative;          width: 100%;          max-width: 500px;          margin: 0 auto;          background: #000;          border-radius: 8px;          overflow: hidden;        `;                // Crear iframe para vista previa        const previewIframe = document.createElement('iframe');        previewIframe.src = src;        previewIframe.style.cssText = `          width: 100%;          height: 280px;          border: none;          display: block;        `;        previewIframe.setAttribute('allowfullscreen', '');        previewIframe.setAttribute('allow', 'autoplay; encrypted-media');                // Manejar errores de carga        previewIframe.onerror = function() {          showPreviewError(previewContainer, src, hasPlayersFolder);        };                previewIframe.onload = function() {          // Verificar si el iframe carg¨® correctamente          try {            if (this.contentDocument === null) {              // Puede ser CORS, pero est¨¢ cargando              console.log('Iframe cargado (posible CORS)');            }          } catch (e) {            // Error de CORS, pero el iframe puede estar funcionando            console.log('CORS detectado, pero iframe puede funcionar');          }        };                // Mostrar informaci¨®n de la URL generada        const urlInfo = document.createElement('div');        urlInfo.style.cssText = `          background: #f8f9fa;          padding: 15px;          margin-top: 15px;          border-radius: 8px;          font-size: 13px;          color: #666;          border-left: 4px solid #667eea;        `;                const currentDomain = window.location.origin;        const folderStatus = hasPlayersFolder ? 'Carpeta players detectada' : ' Carpeta players no encontrada';                urlInfo.innerHTML = `          <div style="margin-bottom: 10px;">            <strong> Dominio actual:</strong> <code>${currentDomain}</code><br>            <strong> Estado:</strong> ${folderStatus}<br>            <strong> URL generada:</strong><br>            <code style="word-break: break-all; background: #e9ecef; padding: 4px 8px; border-radius: 4px; display: block; margin-top: 5px;">${src}</code>          </div>        `;                previewContainer.appendChild(previewIframe);        previewDiv.appendChild(previewContainer);        previewDiv.appendChild(urlInfo);                // Si no hay carpeta players, mostrar advertencia        if (!hasPlayersFolder) {          showPlayersWarning(previewDiv);        }      }            function showPreviewError(container, src, hasPlayersFolder) {        container.innerHTML = `          <div style="padding: 40px 20px; text-align: center; color: #666;">            <div style="font-size: 48px; margin-bottom: 15px;">?</div>            <h3 style="color: #e74c3c; margin-bottom: 10px;">Vista previa no disponible</h3>            <p style="margin-bottom: 15px;">              ${hasPlayersFolder ?                 'El archivo PHP del player no existe o tiene errores' :                 'La carpeta "players" no fue encontrada'              }            </p>            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0; text-align: left;">              <strong>URL generada:</strong><br>              <code style="word-break: break-all; font-size: 11px;">${src}</code>            </div>            <a href="${src}" target="_blank" style="color: #4fc3f7; text-decoration: none;">              ?? Abrir en nueva pesta?a            </a>          </div>        `;      }            function showPlayersWarning(container) {        const warning = document.createElement('div');        warning.style.cssText = `          background: #fff3cd;          border: 1px solid #ffeaa7;          border-radius: 8px;          padding: 15px;          margin-top: 15px;          color: #856404;        `;        warning.innerHTML = `          <div style="display: flex; align-items: center; margin-bottom: 10px;">            <span style="font-size: 20px; margin-right: 10px;">??</span>            <strong>Carpeta "players" no encontrada</strong>          </div>          <p style="margin-bottom: 10px; font-size: 14px;">            Para que funcione correctamente, crea una carpeta llamada <code>players</code>             en el mismo directorio que este archivo HTML.          </p>          <div style="background: #f8f9fa; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 12px;">            tu-sitio/<br>            ©À©¤©¤ index.html (este archivo)<br>            ©¸©¤©¤ players/<br>            &nbsp;&nbsp;&nbsp;&nbsp;©À©¤©¤ video.php<br>            &nbsp;&nbsp;&nbsp;&nbsp;©À©¤©¤ fluidplayer.php<br>            &nbsp;&nbsp;&nbsp;&nbsp;©¸©¤©¤ ...otros players          </div>        `;        container.appendChild(warning);      }    });    // Funci¨®n para copiar al portapapeles    function copyToClipboard(elementId) {      const element = document.getElementById(elementId);      element.select();      element.setSelectionRange(0, 99999);      document.execCommand('copy');            // Feedback visual      const button = event.target;      const originalText = button.textContent;      button.textContent = '? Copiado!';      button.style.background = '#28a745';            setTimeout(() => {        button.textContent = originalText;        button.style.background = '#28a745';      }, 2000);    }  </script></body></html>